{
    "_format": "hh-sol-artifact-1",
    "contractName": "PaymentTracker",
    "sourceName": "contracts/PaymentTracker.sol",
    "abi": [
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "_invoiceManager",
            "type": "address"
          }
        ],
        "stateMutability": "nonpayable",
        "type": "constructor"
      },
      {
        "inputs": [],
        "name": "InvalidAmount",
        "type": "error"
      },
      {
        "inputs": [],
        "name": "InvoiceNotFound",
        "type": "error"
      },
      {
        "inputs": [],
        "name": "TokenMismatch",
        "type": "error"
      },
      {
        "inputs": [],
        "name": "TransferFailed",
        "type": "error"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "token",
            "type": "address"
          }
        ],
        "name": "UnapprovedToken",
        "type": "error"
      },
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": true,
            "internalType": "uint256",
            "name": "invoiceId",
            "type": "uint256"
          },
          {
            "indexed": true,
            "internalType": "address",
            "name": "token",
            "type": "address"
          },
          {
            "indexed": false,
            "internalType": "address",
            "name": "payer",
            "type": "address"
          },
          {
            "indexed": false,
            "internalType": "uint256",
            "name": "amount",
            "type": "uint256"
          }
        ],
        "name": "PaymentReceived",
        "type": "event"
      },
      {
        "anonymous": false,
        "inputs": [
          {
            "indexed": true,
            "internalType": "address",
            "name": "token",
            "type": "address"
          },
          {
            "indexed": false,
            "internalType": "bool",
            "name": "approved",
            "type": "bool"
          }
        ],
        "name": "TokenApprovalChanged",
        "type": "event"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "",
            "type": "address"
          }
        ],
        "name": "approvedTokens",
        "outputs": [
          {
            "internalType": "bool",
            "name": "",
            "type": "bool"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "getPayments",
        "outputs": [
          {
            "components": [
              {
                "internalType": "uint256",
                "name": "invoiceId",
                "type": "uint256"
              },
              {
                "internalType": "address",
                "name": "token",
                "type": "address"
              },
              {
                "internalType": "uint256",
                "name": "amount",
                "type": "uint256"
              },
              {
                "internalType": "address",
                "name": "payer",
                "type": "address"
              },
              {
                "internalType": "uint256",
                "name": "timestamp",
                "type": "uint256"
              }
            ],
            "internalType": "struct PaymentTracker.Payment[]",
            "name": "",
            "type": "tuple[]"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "invoiceManager",
        "outputs": [
          {
            "internalType": "contract InvoiceManager",
            "name": "",
            "type": "address"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "uint256",
            "name": "index",
            "type": "uint256"
          }
        ],
        "name": "payments",
        "outputs": [
          {
            "components": [
              {
                "internalType": "uint256",
                "name": "invoiceId",
                "type": "uint256"
              },
              {
                "internalType": "address",
                "name": "token",
                "type": "address"
              },
              {
                "internalType": "uint256",
                "name": "amount",
                "type": "uint256"
              },
              {
                "internalType": "address",
                "name": "payer",
                "type": "address"
              },
              {
                "internalType": "uint256",
                "name": "timestamp",
                "type": "uint256"
              }
            ],
            "internalType": "struct PaymentTracker.Payment",
            "name": "",
            "type": "tuple"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "uint256",
            "name": "invoiceId",
            "type": "uint256"
          }
        ],
        "name": "recordPayment",
        "outputs": [],
        "stateMutability": "payable",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "uint256",
            "name": "invoiceId",
            "type": "uint256"
          },
          {
            "internalType": "address",
            "name": "token",
            "type": "address"
          },
          {
            "internalType": "uint256",
            "name": "amount",
            "type": "uint256"
          }
        ],
        "name": "recordTokenPayment",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "address",
            "name": "token",
            "type": "address"
          },
          {
            "internalType": "bool",
            "name": "approved",
            "type": "bool"
          }
        ],
        "name": "setTokenApproval",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          },
          {
            "internalType": "address",
            "name": "",
            "type": "address"
          }
        ],
        "name": "totalPaid",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      }
    ],
    "bytecode": "0x608060405234801561001057600080fd5b50604051610deb380380610deb83398101604081905261002f91610054565b600380546001600160a01b0319166001600160a01b0392909216919091179055610084565b60006020828403121561006657600080fd5b81516001600160a01b038116811461007d57600080fd5b9392505050565b610d58806100936000396000f3fe60806040526004361061007b5760003560e01c8063bb44617a1161004e578063bb44617a1461014c578063d56bd1421461016c578063deeac47e1461018e578063fefa9291146101d457600080fd5b806314d91c84146100805780633d8cad90146100a25780636d1ea3fa146100df57806387d817891461011f575b600080fd5b34801561008c57600080fd5b506100a061009b36600461098d565b6101e7565b005b3480156100ae57600080fd5b506003546100c2906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b3480156100eb57600080fd5b5061010f6100fa3660046109c6565b60026020526000908152604090205460ff1681565b60405190151581526020016100d6565b34801561012b57600080fd5b5061013f61013a3660046109ea565b610246565b6040516100d69190610a41565b34801561015857600080fd5b506100a0610167366004610a55565b61034b565b34801561017857600080fd5b50610181610532565b6040516100d69190610a8d565b34801561019a57600080fd5b506101c66101a9366004610adb565b600160209081526000928352604080842090915290825290205481565b6040519081526020016100d6565b6100a06101e23660046109ea565b6105cb565b6001600160a01b038216600081815260026020908152604091829020805460ff191685151590811790915591519182527fc06905f3ccb35c871b99a68720aa59a76a48eb1af10d1917767cb5b0206087f2910160405180910390a25050565b61028a6040518060a001604052806000815260200160006001600160a01b031681526020016000815260200160006001600160a01b03168152602001600081525090565b60005482106102d65760405162461bcd60e51b8152602060048201526013602482015272496e646578206f7574206f6620626f756e647360681b60448201526064015b60405180910390fd5b600082815481106102e9576102e9610b00565b60009182526020918290206040805160a08101825260059093029091018054835260018101546001600160a01b039081169484019490945260028101549183019190915260038101549092166060820152600490910154608082015292915050565b8060000361036c5760405163162908e360e11b815260040160405180910390fd5b6001600160a01b03821660009081526002602052604090205460ff166103b05760405163029fee6760e31b81526001600160a01b03831660048201526024016102cd565b600354604051631d11e60560e11b8152600481018590526000916001600160a01b031690633a23cc0a90602401600060405180830381865afa1580156103fa573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526104229190810190610c26565b60208101519091506001600160a01b031661045057604051634d5c803960e11b815260040160405180910390fd5b826001600160a01b031681604001516001600160a01b0316146104865760405163936bb5ad60e01b815260040160405180910390fd5b6040516323b872dd60e01b8152336004820152306024820152604481018390526000906001600160a01b038516906323b872dd906064016020604051808303816000875af11580156104dc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105009190610ce4565b905080610520576040516312171d8360e31b815260040160405180910390fd5b61052b8585856106c8565b5050505050565b60606000805480602002602001604051908101604052809291908181526020016000905b828210156105c25760008481526020908190206040805160a08101825260058602909201805483526001808201546001600160a01b0390811685870152600283015493850193909352600382015490921660608401526004015460808301529083529092019101610556565b50505050905090565b346000036105ec5760405163162908e360e11b815260040160405180910390fd5b600354604051631d11e60560e11b8152600481018390526000916001600160a01b031690633a23cc0a90602401600060405180830381865afa158015610636573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261065e9190810190610c26565b60208101519091506001600160a01b031661068c57604051634d5c803960e11b815260040160405180910390fd5b60408101516001600160a01b0316156106b85760405163936bb5ad60e01b815260040160405180910390fd5b6106c4826000346106c8565b5050565b6040805160a0810182528481526001600160a01b038085166020808401828152848601878152336060870190815242608088019081526000805460018181018355828052995160059091027f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56381019190915594517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56486018054918a166001600160a01b031992831617905593517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56586015591517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5668501805491909816931692909217909555517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e567909101558783529283528382209082529091529081208054839290610815908490610d01565b9091555050600354604051631d11e60560e11b8152600481018590526000916001600160a01b031690633a23cc0a90602401600060405180830381865afa158015610864573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261088c9190810190610c26565b606081015160008681526001602090815260408083206001600160a01b03891684529091529020549192501161091b57600354604051633810e57f60e11b8152600481018690526001600160a01b0390911690637021cafe90602401600060405180830381600087803b15801561090257600080fd5b505af1158015610916573d6000803e3d6000fd5b505050505b60408051338152602081018490526001600160a01b0385169186917f3df2dc7c3520e3eae9e0204ceb677606a01bb80f05dbbbc6613e951fe194faac910160405180910390a350505050565b6001600160a01b038116811461097c57600080fd5b50565b801515811461097c57600080fd5b600080604083850312156109a057600080fd5b82356109ab81610967565b915060208301356109bb8161097f565b809150509250929050565b6000602082840312156109d857600080fd5b81356109e381610967565b9392505050565b6000602082840312156109fc57600080fd5b5035919050565b805182526020808201516001600160a01b03908116918401919091526040808301519084015260608083015190911690830152608090810151910152565b60a08101610a4f8284610a03565b92915050565b600080600060608486031215610a6a57600080fd5b833592506020840135610a7c81610967565b929592945050506040919091013590565b6020808252825182820181905260009190848201906040850190845b81811015610acf57610abc838551610a03565b9284019260a09290920191600101610aa9565b50909695505050505050565b60008060408385031215610aee57600080fd5b8235915060208301356109bb81610967565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b60405160e0810167ffffffffffffffff81118282101715610b4f57610b4f610b16565b60405290565b604051601f8201601f1916810167ffffffffffffffff81118282101715610b7e57610b7e610b16565b604052919050565b8051610b9181610967565b919050565b8051610b918161097f565b600082601f830112610bb257600080fd5b815167ffffffffffffffff811115610bcc57610bcc610b16565b6020610be0601f8301601f19168201610b55565b8281528582848701011115610bf457600080fd5b60005b83811015610c12578581018301518282018401528201610bf7565b506000928101909101919091529392505050565b600060208284031215610c3857600080fd5b815167ffffffffffffffff80821115610c5057600080fd5b9083019060e08286031215610c6457600080fd5b610c6c610b2c565b82518152610c7c60208401610b86565b6020820152610c8d60408401610b86565b60408201526060830151606082015260808301516080820152610cb260a08401610b96565b60a082015260c083015182811115610cc957600080fd5b610cd587828601610ba1565b60c08301525095945050505050565b600060208284031215610cf657600080fd5b81516109e38161097f565b80820180821115610a4f57634e487b7160e01b600052601160045260246000fdfea2646970667358221220d934cc3941d3428f1e0514d298fff650be819a23f3552b67cad35f65f14d6d5a64736f6c63430008150033",
    "deployedBytecode": "0x60806040526004361061007b5760003560e01c8063bb44617a1161004e578063bb44617a1461014c578063d56bd1421461016c578063deeac47e1461018e578063fefa9291146101d457600080fd5b806314d91c84146100805780633d8cad90146100a25780636d1ea3fa146100df57806387d817891461011f575b600080fd5b34801561008c57600080fd5b506100a061009b36600461098d565b6101e7565b005b3480156100ae57600080fd5b506003546100c2906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b3480156100eb57600080fd5b5061010f6100fa3660046109c6565b60026020526000908152604090205460ff1681565b60405190151581526020016100d6565b34801561012b57600080fd5b5061013f61013a3660046109ea565b610246565b6040516100d69190610a41565b34801561015857600080fd5b506100a0610167366004610a55565b61034b565b34801561017857600080fd5b50610181610532565b6040516100d69190610a8d565b34801561019a57600080fd5b506101c66101a9366004610adb565b600160209081526000928352604080842090915290825290205481565b6040519081526020016100d6565b6100a06101e23660046109ea565b6105cb565b6001600160a01b038216600081815260026020908152604091829020805460ff191685151590811790915591519182527fc06905f3ccb35c871b99a68720aa59a76a48eb1af10d1917767cb5b0206087f2910160405180910390a25050565b61028a6040518060a001604052806000815260200160006001600160a01b031681526020016000815260200160006001600160a01b03168152602001600081525090565b60005482106102d65760405162461bcd60e51b8152602060048201526013602482015272496e646578206f7574206f6620626f756e647360681b60448201526064015b60405180910390fd5b600082815481106102e9576102e9610b00565b60009182526020918290206040805160a08101825260059093029091018054835260018101546001600160a01b039081169484019490945260028101549183019190915260038101549092166060820152600490910154608082015292915050565b8060000361036c5760405163162908e360e11b815260040160405180910390fd5b6001600160a01b03821660009081526002602052604090205460ff166103b05760405163029fee6760e31b81526001600160a01b03831660048201526024016102cd565b600354604051631d11e60560e11b8152600481018590526000916001600160a01b031690633a23cc0a90602401600060405180830381865afa1580156103fa573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f191682016040526104229190810190610c26565b60208101519091506001600160a01b031661045057604051634d5c803960e11b815260040160405180910390fd5b826001600160a01b031681604001516001600160a01b0316146104865760405163936bb5ad60e01b815260040160405180910390fd5b6040516323b872dd60e01b8152336004820152306024820152604481018390526000906001600160a01b038516906323b872dd906064016020604051808303816000875af11580156104dc573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105009190610ce4565b905080610520576040516312171d8360e31b815260040160405180910390fd5b61052b8585856106c8565b5050505050565b60606000805480602002602001604051908101604052809291908181526020016000905b828210156105c25760008481526020908190206040805160a08101825260058602909201805483526001808201546001600160a01b0390811685870152600283015493850193909352600382015490921660608401526004015460808301529083529092019101610556565b50505050905090565b346000036105ec5760405163162908e360e11b815260040160405180910390fd5b600354604051631d11e60560e11b8152600481018390526000916001600160a01b031690633a23cc0a90602401600060405180830381865afa158015610636573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261065e9190810190610c26565b60208101519091506001600160a01b031661068c57604051634d5c803960e11b815260040160405180910390fd5b60408101516001600160a01b0316156106b85760405163936bb5ad60e01b815260040160405180910390fd5b6106c4826000346106c8565b5050565b6040805160a0810182528481526001600160a01b038085166020808401828152848601878152336060870190815242608088019081526000805460018181018355828052995160059091027f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56381019190915594517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56486018054918a166001600160a01b031992831617905593517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56586015591517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5668501805491909816931692909217909555517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e567909101558783529283528382209082529091529081208054839290610815908490610d01565b9091555050600354604051631d11e60560e11b8152600481018590526000916001600160a01b031690633a23cc0a90602401600060405180830381865afa158015610864573d6000803e3d6000fd5b505050506040513d6000823e601f3d908101601f1916820160405261088c9190810190610c26565b606081015160008681526001602090815260408083206001600160a01b03891684529091529020549192501161091b57600354604051633810e57f60e11b8152600481018690526001600160a01b0390911690637021cafe90602401600060405180830381600087803b15801561090257600080fd5b505af1158015610916573d6000803e3d6000fd5b505050505b60408051338152602081018490526001600160a01b0385169186917f3df2dc7c3520e3eae9e0204ceb677606a01bb80f05dbbbc6613e951fe194faac910160405180910390a350505050565b6001600160a01b038116811461097c57600080fd5b50565b801515811461097c57600080fd5b600080604083850312156109a057600080fd5b82356109ab81610967565b915060208301356109bb8161097f565b809150509250929050565b6000602082840312156109d857600080fd5b81356109e381610967565b9392505050565b6000602082840312156109fc57600080fd5b5035919050565b805182526020808201516001600160a01b03908116918401919091526040808301519084015260608083015190911690830152608090810151910152565b60a08101610a4f8284610a03565b92915050565b600080600060608486031215610a6a57600080fd5b833592506020840135610a7c81610967565b929592945050506040919091013590565b6020808252825182820181905260009190848201906040850190845b81811015610acf57610abc838551610a03565b9284019260a09290920191600101610aa9565b50909695505050505050565b60008060408385031215610aee57600080fd5b8235915060208301356109bb81610967565b634e487b7160e01b600052603260045260246000fd5b634e487b7160e01b600052604160045260246000fd5b60405160e0810167ffffffffffffffff81118282101715610b4f57610b4f610b16565b60405290565b604051601f8201601f1916810167ffffffffffffffff81118282101715610b7e57610b7e610b16565b604052919050565b8051610b9181610967565b919050565b8051610b918161097f565b600082601f830112610bb257600080fd5b815167ffffffffffffffff811115610bcc57610bcc610b16565b6020610be0601f8301601f19168201610b55565b8281528582848701011115610bf457600080fd5b60005b83811015610c12578581018301518282018401528201610bf7565b506000928101909101919091529392505050565b600060208284031215610c3857600080fd5b815167ffffffffffffffff80821115610c5057600080fd5b9083019060e08286031215610c6457600080fd5b610c6c610b2c565b82518152610c7c60208401610b86565b6020820152610c8d60408401610b86565b60408201526060830151606082015260808301516080820152610cb260a08401610b96565b60a082015260c083015182811115610cc957600080fd5b610cd587828601610ba1565b60c08301525095945050505050565b600060208284031215610cf657600080fd5b81516109e38161097f565b80820180821115610a4f57634e487b7160e01b600052601160045260246000fdfea2646970667358221220d934cc3941d3428f1e0514d298fff650be819a23f3552b67cad35f65f14d6d5a64736f6c63430008150033",
    "linkReferences": {},
    "deployedLinkReferences": {}
  }
  
  